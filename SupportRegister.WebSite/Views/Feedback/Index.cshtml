@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Scripts{
<script>
    setTimeout(function () {
        $('#msgAlert').fadeOut('slow');
    }, 2000);
</script>
 }
@if (ViewBag.SuccessMsg != null)
{
    <div class="alert alert-fill-success position-fixed" id="msgAlert" role="alert" style="z-index: 9999; top: 80px; left: 800px">
        @ViewBag.SuccessMsg
    </div>
}
<body>
    <div class="overview" style="border-radius: 3px;">
        <h2>VIẾT PHẢN HỒI</h2>
        <p>Xin vui lòng đọc kỹ phần hướng dẫn để có thể chọn đúng các tùy chọn</p>
    </div>
    <div class="row mb-4">
        <p class="mt-3" id="msg-error"></p>
        <div id="repData" class="col-lg-8 form-horizontal card-body">
            <form id="form" asp-action="Create">
                <div class="form-group">
                    <label for="tieude_gy" class="text-primary col-sm-2 col-form-label">Tiêu đề:</label>

                    <div class="col-sm-10">
                        <input id="title_mail" name="title_mail" class="form-control" placeholder="Tiêu đề cho nội dung góp ý">
                    </div>
                </div>
                <div class="form-group">
                    <label for="noidung_gy" class="text-primary col-sm-2 col-form-label">Nội dung:</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" name="content_mail" id="tinymceExample" rows="10"></textarea>
                    </div>
                </div>
                <div class="form-group mt-2">
                    <div class="col-sm-offset-2 col-sm-10">
                        <a id="btn-submit" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#submitModal">Gửi phản hồi</a>
                        <div class="modal" tabindex="-1" id="submitModal" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Xác nhận gửi phản hồi</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="btn-close"></button>
                                    </div>
                                    <div class="p-3">
                                        <p>Bạn chắc chắn muốn gởi ý kiến này?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                                        <button class="btn btn-primary">Gửi phản hồi</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-lg-4">
            <h3 class="text-primary"><span class="label label-info">Hướng dẫn viết góp ý</span></h3>
            <div class="bs-callout bs-callout-info">
                <strong>
                    Góp ý sẽ tự động gởi mail cho cán bộ quản lý
                    Góp ý phải nghiêm túc và đúng theo quy định của nhà trường
                    Những góp ý của các em sẽ được xem xét và điều chỉnh cho phù hợp
                </strong>
            </div>
        </div>
    </div>
</body>
<script>
    $('#btn-submit').click(function (e) {
        let checkContent = $(".content_mail").val();
        let checkTitle = $("#title_mail").val();
        console.log(checkContent);
        if(checkContent == '' || checkTitle == ''){
            $("#submitModal").modal("hide");
            $("#msg-error").addClass("alert")
            $("#msg-error").addClass("alert-danger")
            $("#msg-error").html("Tiêu đề và nội dung không được trống!")
        } else{
             $("#msg-error").removeClass("alert")
            $("#msg-error").removeClass("alert-danger")
             $("#msg-error").html("");
        }
    });
</script>
